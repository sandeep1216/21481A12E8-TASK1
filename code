LIBRARIES:

!pip install PyPDF2 sentence-transformers faiss-cpu
pip install PyPDF2 sentence-transformers faiss-cpu
pip install faiss-gpu



CODE:

import PyPDF2
from sentence_transformers import SentenceTransformer
import faiss
import numpy as np

# Load PDF and extract text
def extract_text_from_pdf(pdf_path):
    with open(pdf_path, 'rb') as file:
        reader = PyPDF2.PdfReader(file)
        text = ""
        for page in reader.pages:
            text += page.extract_text()
    return text

# Chunking and embedding
def chunk_and_embed(text, model):
    chunks = text.split('\n\n')  # Simple chunking by paragraphs
    embeddings = model.encode(chunks)
    return chunks, embeddings

# Store embeddings in a vector database
def store_embeddings(embeddings):
    index = faiss.IndexFlatL2(embeddings.shape[1])  # L2 distance
    index.add(embeddings)
    return index

# Query handling
def handle_query(query, model, index, chunks):
    query_embedding = model.encode([query])
    D, I = index.search(query_embedding, k=5)  # Retrieve top 5 results
    return list(set(chunks[i] for i in I[0]))  # Use set to avoid duplicates

# Format output as bullet points
def format_as_bullet_points(relevant_chunks):
    return "\n".join(f"- {chunk.strip()}" for chunk in relevant_chunks)

# Example usage
pdf_path = '/content/sample_data/path_to_pdf.pdf'  # Replace with your PDF file path
model = SentenceTransformer('all-MiniLM-L6-v2')
text = extract_text_from_pdf(pdf_path)
chunks, embeddings = chunk_and_embed(text, model)
index = store_embeddings(embeddings)

user_query = "What is the unemployment rate for bachelor's degree holders?"
relevant_chunks = handle_query(user_query, model, index, chunks)

# Print the results in bullet-point format
bullet_point_output = format_as_bullet_points(relevant_chunks)
print(bullet_point_output)



OUTPUT:

•One is still be able compare each variable with the other by 
comparing bars.
•The graph below is called a line graph.  It shows how a variable 
evolves with respect to another variable.  In the line graph below, we 
show how GDP has evolved by year.
05101520253035
1947
1950
19531956
1959
19621965
1968
19711974
1977
19801983
1986
19891992
1995
19982001
2004
2007
2010
2013Dollars
YearYearly Total GDP (in trillions of dollars)
Yearly Total GDPWhen to use a Line Graph, Pie 
Chart, or Bar Graph?
We use the pie chart here to compare parts of a whole.  
In our example, we compared components of US GDP.
The line chart is useful when you want to show how a 
variable changes over time.  For our purposes, we used it 
show how GDP changed over time.
Bar graphs are good for comparing different groups of 
variables.  We used it to compare different components of US GDP.  We did the same with the pie chart; depending on your purposes you may choose to use a pie chart or a bar graph.xy
00
13
2639
41 2
51 561 8
72 1
82 4•If given a table of data, we should be able to plot it.  Below is 
some sample data; plot the data with x on the x-axis and y on the y-axis.051015202530
012345678•Below is a plot of the data on the table from the previous 
slide.  Notice that this plot is a straight line meaning that a linear equation must have generated this data.
•What if the data is not generated by a linear equation?  We can 
fit the data using a linear regression and use that line as an approximation to the data.  Regressions are beyond the scope of this workshop.Example from Urban Affairs
What kind of bar graph is this?
Whose life expectancy has changed the most since 1925?
In 1925, about how much longer was a woman expected 
to live than a man?
Example from History
In what years were the affiliations for 
Republicans and Independents the same?During what time period did the party affiliations have the most change?Example from Education
What percent of the total 
class received grades of 72 or 77?
Which grade showed the 
largest difference between males and females?Example from Psychology
What do you notice 
is different in this graph than the others reviewed so far?
